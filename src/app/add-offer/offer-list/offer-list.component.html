  <div class="page page-offer-bundle">
    <div class="page_header">
      <h1>Offers</h1>
      <a routerLink="/offer/offer-list/add-offer" title="Add offer" class="add_offer"></a>
    </div>
    <div class="page_info">
      <app-checkbox-table-select [_parent]="this"></app-checkbox-table-select>
        <div class="page_info_result"
          [hidden] = "displaying">
          Displaying {{display_from}}
          -
          {{display_to}} of {{display_of}} results
        </div>
    </div>
    <div class="page-grid js-page-grid">
      <div class="page-table page-table_offers">
        <div class="page-table_head">
          <table>
            <tr>
              <td class="checkbox_field t9_1">
                <app-checkbox-table-all></app-checkbox-table-all>
              </td>
              <td class="t8_2">
                <div class="page-table_sort_wr">
                  <a class="page-table_sort" (click)="sort('id')" id="id_sort">ID</a>
                  <button #ba1 (click)="ti.Toggle()" class="search-table" [class.actives]="ti.isActive" value="id"></button>
                  <app-text-input #ti [clicker]="ba1" [_parent]="this" [search]="id_filter"></app-text-input>
                </div>
              </td>
              <td class="t8_3">
                <div class="page-table_sort_wr">
                  <a class="page-table_sort" (click)="sort('name')" id="name_sort">Offer</a>
                  <button #ba2 (click)="ti2.Toggle()" class="search-table" [class.actives]="ti2.isActive" value="name"></button>
                  <app-text-input #ti2 [clicker]="ba2" [_parent]="this" [search]="name"></app-text-input>
                </div>
              </td>
              <td class="t8_4">
                <div class="page-table_sort_wr">
                  <a class="page-table_sort" (click)="sort('type')"  id="type_sort">Type</a>
                  <button #ba3 class="search-table" (click)="chi3.Toggle()" [class.actives]="chi3.isActive" value="type"></button>
                  <app-chosen-input #chi3 [clicker]="ba3" [_parent]="this"></app-chosen-input>
                </div>
              </td>
              <td class="t8_3">
                <div class="page-table_sort_wr">
                  <a class="page-table_sort" (click)="sort('countries')" id="countries_sort">GEO</a>
                  <button #ba4 class="search-table" (click)="chi4.Toggle()" [class.actives]="chi4.isActive" value="countries"></button>
                  <app-chosen-input #chi4 [clicker]="ba4" [_parent]="this"></app-chosen-input>
                </div>
              </td>
              <td class="t8_6">
                <div class="page-table_sort_wr">
                  <a class="page-table_sort" (click)="sort('category_id')" id="category_id_sort">Category</a>
                  <button #ba5 class="search-table" (click)="chi5.Toggle()" [class.actives]="chi5.isActive" value="category_id"></button>
                  <app-chosen-input #chi5 [clicker]="ba5" [_parent]="this"></app-chosen-input>
                </div>
              </td>
              <td class="t8_7">
                <div class="page-table_sort_wr">
                  <a (click)="sort('rpa')" id="rpa_sort" class="page-table_sort">RPA</a>
                </div>
              </td>
              <td class="t8_8">
                <div class="page-table_sort_wr">
                  <a (click)="sort('cpa')" id="cpa_sort" class="page-table_sort">Default CPA</a>
                </div>
              </td>
              <td class="t8_8">
                <div class="page-table_sort_wr">
                  <a class="page-table_sort" (click)="sort('access')" id="access_sort">Offer access</a>
                  <button #ba6 class="search-table" (click)="chi6.Toggle()" [class.actives]="chi6.isActive" value="access"></button>
                  <app-chosen-input #chi6 [clicker]="ba6" [_parent]="this"></app-chosen-input>
                </div>
              </td>
              <td class="t8_8">
                <div class="page-table_sort_wr">
                  <a class="page-table_sort" (click)="sort('status')" id="status_sort">Status</a>
                  <button class="search-table" #ba7 (click)="chi7.Toggle()" [class.actives]="chi7.isActive" value="status"></button>
                  <app-chosen-input #chi7 [clicker]="ba7" [_parent]="this"></app-chosen-input>
                </div>
              </td>
              <td class="t8_9"></td>
            </tr>
          </table>
        </div>
        <div class="page-table_body_wrap">
          <div class="page-table_body">
            <table>
              <tr *ngIf="this.not_found_result" style="text-align: center"><td>Not found results</td></tr>
              <tr class="visible-row" *ngFor="let data of list.rows">
                <td class="checkbox_field t9_1">
                  <app-checkbox-table-one [id]="data.id"></app-checkbox-table-one>
                </td>
                <td class="t8_2">{{data.id}}</td>
                <td class="t8_3">{{data.name}}</td>
                <td class="t8_4">{{popupChange.typeEncode(data.type,'type')}}</td>
                <td class="t8_3">{{data.countries}}</td>
                <td class="t8_6">
                  <span class="page-table_prc" id="category_id" data-name="Category" data-type="Select"
                  (click)="chooseField($event,data.id,data.user_id,data.proffer_id,data.category_title,data.category_id,'category_id','select',data)">{{data.category_title}}
                  </span>
                </td>
                <td class="t8_7">
                  <span class="page-table_prc" id="rpa" data-name="RPA" data-type=""
                  (click)="chooseField($event,data.id,data.user_id,data.proffer_id,data.rpa,data.rpa,'rpa','input',data)">{{data.rpa}}
                  </span>
                </td>
                <td class="t8_8">
                  <span class="page-table_prc" id="cpa" data-name="CPA" data-type=""
                  (click)="chooseField($event,data.id,data.user_id,data.proffer_id,data.cpa,data.cpa,'cpa','input',data)">{{data.cpa}}
                  </span>
                </td>
                <td class="t8_8">
                  <span class="page-table_prc" id="access" data-name="Access" data-type="Select"
                  (click)="chooseField($event,data.id,'0','0',data.access,data.access,'access','select',data)">{{popupChange.typeEncode(data.access,'access')}}
                  </span>
                </td>
                <td class="t8_8">
                  <span class="page-table_prc" id="status" data-name="Status" data-type="Select"
                  (click)="chooseField($event,data.id,data.user_id,'null',data.status,data.status,'status','select',data)">{{popupChange.typeEncode(data.status, 'status')}}
                  </span>
                </td>
                <td class="t8_9">
                  <ul class="page-table_proffers">
                    <li><a class="proffers-offer" title="Publishers" (click)="getPublishers(data.id,data.name)"></a></li>
                    <li><a class="proffers-edit" (click)="update('Update offer',data.id,data.name)" title="Edit"></a></li>
                  </ul>
                </td>
              </tr>
            </table>
          </div>
        </div>
      </div>
      <div class="page-footer">
        <div class="pagination">
          <div class="next-disabled"> <span [hidden]= "page_button_next_disabled">Next</span></div>
          <div class="next"> <span  (click)="next()" [hidden]= "page_button_next">Next</span></div>
          <div class="first"><span title="On the first" (click)="first()" [hidden] = "page_button_first"></span></div>
          <div class="prev"><span title="Previous" (click)="prev()" [hidden] = "page_button_prev"></span></div>
          <div class="current_page"><span  [hidden]= "current_page">{{currentPage}}</span></div>
          <div class="next_arrow"> <span title="Next" (click)="next()" [hidden]= "page_button_next_arrow"></span></div>
        </div>
      </div>
    </div>
  </div>
  <app-popup-table #popup (ch)="changeField($event)" [(inner_hidden)]="popupChange.hidden" [top]="popupChange.top" [left]="popupChange.left" [(value)]="popupChange.value_id"  [values]="popupChange.values" [type]="popupChange.type" [title]="popupChange.field"></app-popup-table>
